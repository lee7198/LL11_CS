### 
사용자들은 브라우저를 통하여 간편하게 웹 서비스를 이용할 수 있습니다. 그런데 브라우저는 사용자가 알아채지 못하게 엄청 많은 일들을 처리하는데요. 이 과정들을 브라우저 관점에서 살펴보고 정리해보겠습니다.

> 👀 브라우저의 관점에서 OSI 7계층을 이용하여 설명하고, 각 계층마다의 자세한 내용은 생략합니다. 
(DNS, HTTP, TCP 등...)

## 👨‍💻 www.google.com ⌨️
크게 7가지로 나뉘는 과정들을 알아보겠습니다

### 0️⃣ 사용자가 브라우저 검색창에 **www.google.com**을 입력합니다.

### 1️⃣ DNS 캐싱
- 브라우저는 입력한 정보가 검색어인지 URL인지 판단합니다. 이 판단은 `http://`, `https://`으로 시작하는 프로토콜이거나 `www.`와 같은 도메인 이름 혹은 `.com`, `.org` 등 과 같은 최상위 도메인 이름이 구성되어 있는지 확인 후 알맞은 판단에 처리합니다.
- 브라우저는 캐싱 되어있는 DNS 기록들을 통해 입력한 주소와 동일한 IP 주소 찾습니다.
	
    - 브라우저에 저장된 캐시가 없다면, 브라우저는 OS에 `systemcall`을 통하여 DNS 기록을 가져옵니다. 
    - OS에도 저장된 캐시가 없다면, 라우터 캐시를 확인합니다. PC에 없는 경우 브라우저는 자체 DNS 레코드 캐시를 유지하는 라우터와 통신합니다.
    - 라우터까지 방문하여 IP 주소를 찾을 수 없다면, ISP(Internet Service Provider) 캐시를 탐색하여 주소를 찾습니다.
### 2️⃣ TCP 연결
- `TCP` 를 사용하여 서버에 요청합니다. 이 때에 사용하는 프로세스는 안전한 방식인 `3-way handshake` 를 사용합니다.
	- TCP 통신은 브라우저(클라이언트)가 `SYN` 신호를 전송하며 시작합니다.
    - 서버는 연결을 할 수 있다면 `SYN` 과 `ACK` 패킷으로 회신합니다.
    - 클라이언트는 다시 응답을 받아 서버로 부터 `ACK` 패킷을 전송하며 TCP 통신을 종료합니다.
### 3️⃣ HTTP 요청

- TCP로 연결되어 있는 브라우저(클라이언트)는 서버에게 데이터를 요청할 수 있습니다. 이 때 사용되는 프로토콜은 `HTTP 프로토콜` 에 따라 `GET` 요청합니다.

### 4️⃣ HTTP 응답
- HTTP를 통해 구글의 서버에 `www.google.com` 의 HTML 파일을 받습니다.
### 5️⃣ 콘텐츠 Render
- 응답받은 파일을 사용자의 브라우저에 렌더링 해줍니다.

## + OSI 7계층
- `응용` 계층은 사용자와 네트워크의 상호작용을 처리합니다.
- `표현` 계층은 데이터의 형식을 표준화합니다.
- `세션` 계층은 데이터의 전송을 제어하고, 데이터의 흐름을 관리합니다.
- `전송` 계층은 데이터를 신뢰성 있게 전송합니다.
- `네트워크` 계층은 데이터를 목적지 네트워크로 전달합니다.
- `데이터링크` 계층은 물리계층에서 전송된 데이터를 오류 검사하고, 데이터를 프레임으로 묶어 전송합니다.
- `물리` 계층 은 가장 하위 계층으로, 네트워크 장치 간의 물리적인 연결을 관리합니다.


![](https://velog.velcdn.com/images/lee7198/post/e49425d1-8234-4817-94c3-a49fae7dccd6/image.png)
